### 启动vi后按i键无法进入插入模式？

由于之前串口输入的pollin函数直接返回true，因此sys_ppoll会立即返回。需要为标准输入设一个一字节的buffer，然后每次先从buffer里读取数据；在没有实现串口发中断的情况下，如何唤醒ppoll对应的future呢？我们暂时实现了一个PollQueue，然后内核启动时开一个内核线程进行不断轮询，一有可读事件就唤醒。

### 在vi中按esc无法进入normal模式？

实现了PollQueue之后，我们将其用关中断锁包住，而内核线程在轮询的时候一直在持有锁的情况下死循环，因此此时的内核中断被关了，而按esc之后会调用一次带有超时时间的sys_ppoll，因为内核中断被关了，导致无法正常超时返回。